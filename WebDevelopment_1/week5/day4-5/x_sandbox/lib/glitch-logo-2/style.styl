@import url(https://fonts.googleapis.com/css?family=Monoton);
@import "figure.styl";
@import "animation.styl";

$bg-color  = #111
$txt-color = #fff

$color-c1  = red
$color-c2  = blue

$offset-c1 = 3
$offset-c2 = 2

$lay-c1    = 2
$lay-c2    = 2

.glitch-wrapper
  background: $bg-color
  color: $txt-color

.screen
  position: relative
  z-index: 1
  width:  100%
  height: 100%
  overflow: hidden

.text-wrapper
  display: block
  position: absolute
  z-index: 9
  width:  720px
  height: 128px
  text-align: center
  top:    0
  right:  0
  bottom: 0
  left:   0
  margin: auto
  cursor: default
  span
    display: block
    position: relative
    font-size: 128px
    line-height: 1
  &.is-off
    animation: is-off 2s linear infinite !important

.glitch-wrapper
  &:before
    position: absolute
    z-index: 999999
    content: ''
    top:    0
    right:  0
    bottom: 0
    left:   0
    animation: bg-move 2s linear infinite
    background-size: 100% 8px
    background-image: linear-gradient(0, rgba(255,255,255,.05) 10%, transparent 10%, transparent 50%, rgba(255,255,255,.05) 50%, rgba(255,255,255,.05) 60%, transparent 60%, transparent)
  .figure,
  .figure-mask
    transform: skewX(0deg) scaleY(1)
    animation: tr-bag 4s linear infinite
  .text-wrapper
    transform: skewX(0deg) scaleY(1)
    animation: clock-bag 4s linear infinite
    span
      &:before,
      &:after
        display: block
        content: attr(data-time)
        position: absolute
        top: 0
        color: $txt-color
        background: $bg-color
        overflow: hidden
        width:  720px
        height: 128px
        clip: rect(0,900px,0,0)
      &:before
        left: -($offset-c2)px
        text-shadow: ($lay-c2)px 0 $color-c2
        animation: c2 1s infinite linear alternate-reverse
      &:after
        left: ($offset-c1)px
        text-shadow: -($lay-c1)px 0 $color-c1
        animation: c1 2s infinite linear alternate-reverse
